{% extends "base.html" %}
{% block title %}理学療法国試対策{% endblock%}
{% block content %}
<div id = "all-display">
 <div id = "top-nav">
     <div class = "title">
         <h1 id = "title_top">理学療法国試対策アプリ</h1>
     </div>
 </div>
 <div id = "timelimit-view" name="year_number">
     <p class="atdays">国試まであと</p>
     <br>
     <br>
     <h3 id="timer"></h3>
 </div>
 <br>
 <script>
    function updateTimer() {
        fetch('{% url  'pt_kokushi:get-remaining-time' %}')
            .then(response => response.json())
            .then(data => {
                const remainingSeconds = data.remaining_seconds;
                if (remainingSeconds !== null) {
                    const days = Math.floor(remainingSeconds / (24 * 3600));
                    const hours = Math.floor((remainingSeconds % (24 * 3600)) / 3600).toString().padStart(2, '0');
                    const minutes = Math.floor((remainingSeconds % 3600) / 60).toString().padStart(2, '0');
                    const seconds = Math.floor(remainingSeconds % 60).toString().padStart(2, '0');
                    document.getElementById("timer").innerHTML = `<span class="timer-number">${days}</span>日 <span class="timer-number">${hours}</span>時間 <span class="timer-number">${minutes}</span>分 <span class="timer-number">${seconds}</span>秒`;
                } else {
                    document.getElementById("timer").textContent = "情報がありません";
                }
            });
    }

    updateTimer();
    setInterval(updateTimer, 60000); // 毎秒更新の時は1000 とりあえず１分にしてる
</script>

 <div = id = "side-quest">
    <div id = "side-bar">
        <p class = "button-001" id = "grade">成績</p>
        <p class = "button-001" id = "category">分野ごと</p>
        <p class = "button-001" id = "year">年度ごと</p>
        <p class = "button-001" id = "bookmark">ブックマーク問題</p>
        <p class = "button-001" id = "random">ランダム問題</p>
        <p class = "button-001" iD = "three-q">3点問題のみ</p>
        <a class = "button-001" is = "study-mode" href="{% url 'pt_kokushi:select_field' %}"><p>基礎学習</p></a>
    </div>
    <div id = "national-examination">
        <div class = "button national-year even" id = "58-year">第58回</div>
        <p class = "button national-year odd" id = "57-year">第57回</p>
        <p class = "button national-year even" id = "56-year">第56回</p>
        <p class = "button national-year odd" id = "55-year">第55回</p>
        <p class = "button national-year even" id = "54-year">第54回</p>
        <p class = "button national-year odd" id = "53-year">第53回</p>
        <p class = "button national-year even" id = "52-year">第52回</p>
        <p class = "button national-year odd" id = "51-year">第51回</p>
        <p class = "button national-year even" id = "50-year">第50回</p>
        <p class = "button national-year odd" id = "49-year">第49回</p>
    </div>    
</div>
</div>
{% endblock %}